"use strict";(self.webpackChunkmybase=self.webpackChunkmybase||[]).push([[17839],{7014:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>h,contentTitle:()=>r,default:()=>m,frontMatter:()=>i,metadata:()=>a,toc:()=>t});const a=JSON.parse('{"id":"\u7801\u519c/\u9898\u5e93/\u9762\u8bd5\u9898/\u9762\u8bd5\u9898 16.25. LRU \u7f13\u5b58\uff08\u4e2d\u7b49\uff09","title":"\u9762\u8bd5\u9898 16.25. LRU \u7f13\u5b58\uff08\u4e2d\u7b49\uff09","description":"\u9898\u76ee\u63cf\u8ff0","source":"@site/docs/\u7801\u519c/\u9898\u5e93/\u9762\u8bd5\u9898/\u9762\u8bd5\u9898 16.25. LRU \u7f13\u5b58\uff08\u4e2d\u7b49\uff09.md","sourceDirName":"\u7801\u519c/\u9898\u5e93/\u9762\u8bd5\u9898","slug":"/\u7801\u519c/\u9898\u5e93/\u9762\u8bd5\u9898/\u9762\u8bd5\u9898 16.25. LRU \u7f13\u5b58\uff08\u4e2d\u7b49\uff09","permalink":"/\u7801\u519c/\u9898\u5e93/\u9762\u8bd5\u9898/\u9762\u8bd5\u9898 16.25. LRU \u7f13\u5b58\uff08\u4e2d\u7b49\uff09","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var l=n(74848),c=n(28453);const i={},r=void 0,h={},t=[{value:"\u9898\u76ee\u63cf\u8ff0",id:"\u9898\u76ee\u63cf\u8ff0",level:3},{value:"\u57fa\u672c\u5206\u6790",id:"\u57fa\u672c\u5206\u6790",level:3},{value:"\u53cc\u5411\u94fe\u8868",id:"\u53cc\u5411\u94fe\u8868",level:3}];function d(e){const s={a:"a",annotation:"annotation",code:"code",h3:"h3",hr:"hr",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msup:"msup",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.h3,{id:"\u9898\u76ee\u63cf\u8ff0",children:"\u9898\u76ee\u63cf\u8ff0"}),"\n",(0,l.jsxs)(s.p,{children:["\u8fd9\u662f LeetCode \u4e0a\u7684 ",(0,l.jsxs)(s.strong,{children:[(0,l.jsx)(s.a,{href:"https://leetcode-cn.com/problems/lru-cache-lcci/solution/gong-shui-san-xie-she-ji-shu-ju-jie-gou-k0iwg/",children:"\u9762\u8bd5\u9898 16.25. LRU \u7f13\u5b58"}),")"]})," \uff0c\u96be\u5ea6\u4e3a ",(0,l.jsx)(s.strong,{children:"\u4e2d\u7b49"}),"\u3002"]}),"\n",(0,l.jsx)(s.p,{children:"Tag : \u300c\u8bbe\u8ba1\u300d\u3001\u300c\u94fe\u8868\u300d\u3001\u300c\u54c8\u5e0c\u8868\u300d"}),"\n",(0,l.jsx)(s.p,{children:"\u8fd0\u7528\u4f60\u6240\u638c\u63e1\u7684\u6570\u636e\u7ed3\u6784\uff0c\u8bbe\u8ba1\u548c\u5b9e\u73b0\u4e00\u4e2a\xa0 LRU (\u6700\u8fd1\u6700\u5c11\u4f7f\u7528) \u7f13\u5b58\u673a\u5236 \u3002\n\u5b9e\u73b0 LRUCache \u7c7b\uff1a"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"LRUCache(int capacity) \u4ee5\u6b63\u6574\u6570\u4f5c\u4e3a\u5bb9\u91cf\xa0capacity \u521d\u59cb\u5316 LRU \u7f13\u5b58"}),"\n",(0,l.jsx)(s.li,{children:"int get(int key) \u5982\u679c\u5173\u952e\u5b57 key \u5b58\u5728\u4e8e\u7f13\u5b58\u4e2d\uff0c\u5219\u8fd4\u56de\u5173\u952e\u5b57\u7684\u503c\uff0c\u5426\u5219\u8fd4\u56de -1 \u3002"}),"\n",(0,l.jsx)(s.li,{children:"void put(int key, int value)\xa0\u5982\u679c\u5173\u952e\u5b57\u5df2\u7ecf\u5b58\u5728\uff0c\u5219\u53d8\u66f4\u5176\u6570\u636e\u503c\uff1b\u5982\u679c\u5173\u952e\u5b57\u4e0d\u5b58\u5728\uff0c\u5219\u63d2\u5165\u8be5\u7ec4\u300c\u5173\u952e\u5b57-\u503c\u300d\u3002\u5f53\u7f13\u5b58\u5bb9\u91cf\u8fbe\u5230\u4e0a\u9650\u65f6\uff0c\u5b83\u5e94\u8be5\u5728\u5199\u5165\u65b0\u6570\u636e\u4e4b\u524d\u5220\u9664\u6700\u4e45\u672a\u4f7f\u7528\u7684\u6570\u636e\u503c\uff0c\u4ece\u800c\u4e3a\u65b0\u7684\u6570\u636e\u503c\u7559\u51fa\u7a7a\u95f4\u3002"}),"\n"]}),"\n",(0,l.jsxs)(s.p,{children:["\u8fdb\u9636\uff1a\u4f60\u662f\u5426\u53ef\u4ee5\u5728\xa0",(0,l.jsxs)(s.span,{className:"katex",children:[(0,l.jsx)(s.span,{className:"katex-mathml",children:(0,l.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(s.semantics,{children:[(0,l.jsxs)(s.mrow,{children:[(0,l.jsx)(s.mi,{children:"O"}),(0,l.jsx)(s.mo,{stretchy:"false",children:"("}),(0,l.jsx)(s.mn,{children:"1"}),(0,l.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,l.jsx)(s.annotation,{encoding:"application/x-tex",children:"O(1)"})]})})}),(0,l.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(s.span,{className:"base",children:[(0,l.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,l.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,l.jsx)(s.span,{className:"mopen",children:"("}),(0,l.jsx)(s.span,{className:"mord",children:"1"}),(0,l.jsx)(s.span,{className:"mclose",children:")"})]})})]})," \u65f6\u95f4\u590d\u6742\u5ea6\u5185\u5b8c\u6210\u8fd9\u4e24\u79cd\u64cd\u4f5c\uff1f"]}),"\n",(0,l.jsx)(s.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{children:'\u8f93\u5165\n["LRUCache", "put", "put", "get", "put", "get", "put", "get", "get", "get"]\n[[2], [1, 1], [2, 2], [1], [3, 3], [2], [4, 4], [1], [3], [4]]\n\u8f93\u51fa\n[null, null, null, 1, null, -1, null, -1, 3, 4]\n\n\u89e3\u91ca\nLRUCache lRUCache = new LRUCache(2);\nlRUCache.put(1, 1); // \u7f13\u5b58\u662f {1=1}\nlRUCache.put(2, 2); // \u7f13\u5b58\u662f {1=1, 2=2}\nlRUCache.get(1);    // \u8fd4\u56de 1\nlRUCache.put(3, 3); // \u8be5\u64cd\u4f5c\u4f1a\u4f7f\u5f97\u5173\u952e\u5b57 2 \u4f5c\u5e9f\uff0c\u7f13\u5b58\u662f {1=1, 3=3}\nlRUCache.get(2);    // \u8fd4\u56de -1 (\u672a\u627e\u5230)\nlRUCache.put(4, 4); // \u8be5\u64cd\u4f5c\u4f1a\u4f7f\u5f97\u5173\u952e\u5b57 1 \u4f5c\u5e9f\uff0c\u7f13\u5b58\u662f {4=4, 3=3}\nlRUCache.get(1);    // \u8fd4\u56de -1 (\u672a\u627e\u5230)\nlRUCache.get(3);    // \u8fd4\u56de 3\nlRUCache.get(4);    // \u8fd4\u56de 4\n'})}),"\n",(0,l.jsx)(s.p,{children:"\u63d0\u793a\uff1a"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"1 <= capacity <= 3000"}),"\n",(0,l.jsx)(s.li,{children:"0 <= key <= 3000"}),"\n",(0,l.jsxs)(s.li,{children:["0 <= value <= ",(0,l.jsxs)(s.span,{className:"katex",children:[(0,l.jsx)(s.span,{className:"katex-mathml",children:(0,l.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(s.semantics,{children:[(0,l.jsx)(s.mrow,{children:(0,l.jsxs)(s.msup,{children:[(0,l.jsx)(s.mn,{children:"10"}),(0,l.jsx)(s.mn,{children:"4"})]})}),(0,l.jsx)(s.annotation,{encoding:"application/x-tex",children:"10^4"})]})})}),(0,l.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(s.span,{className:"base",children:[(0,l.jsx)(s.span,{className:"strut",style:{height:"0.8141em"}}),(0,l.jsx)(s.span,{className:"mord",children:"1"}),(0,l.jsxs)(s.span,{className:"mord",children:[(0,l.jsx)(s.span,{className:"mord",children:"0"}),(0,l.jsx)(s.span,{className:"msupsub",children:(0,l.jsx)(s.span,{className:"vlist-t",children:(0,l.jsx)(s.span,{className:"vlist-r",children:(0,l.jsx)(s.span,{className:"vlist",style:{height:"0.8141em"},children:(0,l.jsxs)(s.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,l.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(s.span,{className:"mord mtight",children:"4"})})]})})})})})]})]})})]})]}),"\n",(0,l.jsxs)(s.li,{children:["\u6700\u591a\u8c03\u7528 3 * ",(0,l.jsxs)(s.span,{className:"katex",children:[(0,l.jsx)(s.span,{className:"katex-mathml",children:(0,l.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(s.semantics,{children:[(0,l.jsx)(s.mrow,{children:(0,l.jsxs)(s.msup,{children:[(0,l.jsx)(s.mn,{children:"10"}),(0,l.jsx)(s.mn,{children:"4"})]})}),(0,l.jsx)(s.annotation,{encoding:"application/x-tex",children:"10^4"})]})})}),(0,l.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(s.span,{className:"base",children:[(0,l.jsx)(s.span,{className:"strut",style:{height:"0.8141em"}}),(0,l.jsx)(s.span,{className:"mord",children:"1"}),(0,l.jsxs)(s.span,{className:"mord",children:[(0,l.jsx)(s.span,{className:"mord",children:"0"}),(0,l.jsx)(s.span,{className:"msupsub",children:(0,l.jsx)(s.span,{className:"vlist-t",children:(0,l.jsx)(s.span,{className:"vlist-r",children:(0,l.jsx)(s.span,{className:"vlist",style:{height:"0.8141em"},children:(0,l.jsxs)(s.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,l.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(s.span,{className:"mord mtight",children:"4"})})]})})})})})]})]})})]})," \u6b21 get \u548c put"]}),"\n"]}),"\n",(0,l.jsx)(s.hr,{}),"\n",(0,l.jsx)(s.h3,{id:"\u57fa\u672c\u5206\u6790",children:"\u57fa\u672c\u5206\u6790"}),"\n",(0,l.jsx)(s.p,{children:"LRU \u662f\u4e00\u79cd\u5341\u5206\u5e38\u89c1\u7684\u9875\u9762\u7f6e\u6362\u7b97\u6cd5\u3002"}),"\n",(0,l.jsxs)(s.p,{children:["\u5c06 LRU \u7ffb\u8bd1\u6210\u5927\u767d\u8bdd\u5c31\u662f\uff1a",(0,l.jsx)(s.strong,{children:"\u5f53\u4e0d\u5f97\u4e0d\u6dd8\u6c70\u67d0\u4e9b\u6570\u636e\u65f6\uff08\u901a\u5e38\u662f\u5bb9\u91cf\u5df2\u6ee1\uff09\uff0c\u9009\u62e9\u6700\u4e45\u672a\u88ab\u4f7f\u7528\u7684\u6570\u636e\u8fdb\u884c\u6dd8\u6c70\u3002"})]}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsxs)(s.strong,{children:["\u9898\u76ee\u8ba9\u6211\u4eec\u5b9e\u73b0\u4e00\u4e2a\u5bb9\u91cf\u56fa\u5b9a\u7684 ",(0,l.jsx)(s.code,{children:"LRUCache"})," \u3002\u5982\u679c\u63d2\u5165\u6570\u636e\u65f6\uff0c\u53d1\u73b0\u5bb9\u5668\u5df2\u6ee1\u65f6\uff0c\u5219\u5148\u6309\u7167 LRU \u89c4\u5219\u6dd8\u6c70\u4e00\u4e2a\u6570\u636e\uff0c\u518d\u5c06\u65b0\u6570\u636e\u63d2\u5165\uff0c\u5176\u4e2d\u300c\u63d2\u5165\u300d\u548c\u300c\u67e5\u8be2\u300d\u90fd\u7b97\u4f5c\u4e00\u6b21\u201c\u4f7f\u7528\u201d\u3002"]})}),"\n",(0,l.jsxs)(s.p,{children:["\u53ef\u4ee5\u901a\u8fc7 \ud83c\udf30 \u6765\u7406\u89e3\uff0c\u5047\u8bbe\u6211\u4eec\u6709\u5bb9\u91cf\u4e3a ",(0,l.jsxs)(s.span,{className:"katex",children:[(0,l.jsx)(s.span,{className:"katex-mathml",children:(0,l.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(s.semantics,{children:[(0,l.jsx)(s.mrow,{children:(0,l.jsx)(s.mn,{children:"2"})}),(0,l.jsx)(s.annotation,{encoding:"application/x-tex",children:"2"})]})})}),(0,l.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(s.span,{className:"base",children:[(0,l.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,l.jsx)(s.span,{className:"mord",children:"2"})]})})]})," \u7684 ",(0,l.jsx)(s.code,{children:"LRUCache"})," \u548c \u6d4b\u8bd5\u952e\u503c\u5bf9 ",(0,l.jsx)(s.code,{children:"["}),"1-1",(0,l.jsx)(s.code,{children:","}),"2-2",(0,l.jsx)(s.code,{children:","}),"3-3",(0,l.jsx)(s.code,{children:"]"})," \uff0c\u5c06\u5176\u6309\u7167\u987a\u5e8f\u8fdb\u884c\u63d2\u5165 & \u67e5\u8be2\uff1a"]}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["\u63d2\u5165 ",(0,l.jsx)(s.code,{children:"1-1"}),"\uff0c\u6b64\u65f6\u6700\u65b0\u7684\u4f7f\u7528\u6570\u636e\u4e3a ",(0,l.jsx)(s.code,{children:"1-1"})]}),"\n",(0,l.jsxs)(s.li,{children:["\u63d2\u5165 ",(0,l.jsx)(s.code,{children:"2-2"}),"\uff0c\u6b64\u65f6\u6700\u65b0\u4f7f\u7528\u6570\u636e\u53d8\u4e3a ",(0,l.jsx)(s.code,{children:"2-2"})]}),"\n",(0,l.jsxs)(s.li,{children:["\u67e5\u8be2 ",(0,l.jsx)(s.code,{children:"1-1"}),"\uff0c\u6b64\u65f6\u6700\u65b0\u4f7f\u7528\u6570\u636e\u4e3a ",(0,l.jsx)(s.code,{children:"1-1"})]}),"\n",(0,l.jsxs)(s.li,{children:["\u63d2\u5165 ",(0,l.jsx)(s.code,{children:"3-3"}),"\uff0c\u7531\u4e8e\u5bb9\u5668\u5df2\u7ecf\u8fbe\u5230\u5bb9\u91cf\uff0c\u9700\u8981\u5148\u6dd8\u6c70\u5df2\u6709\u6570\u636e\u624d\u80fd\u63d2\u5165\uff0c\u8fd9\u65f6\u5019\u4f1a\u6dd8\u6c70 ",(0,l.jsx)(s.code,{children:"2-2"}),"\uff0c",(0,l.jsx)(s.code,{children:"3-3"})," \u6210\u4e3a\u6700\u65b0\u4f7f\u7528\u6570\u636e"]}),"\n"]}),"\n",(0,l.jsxs)(s.p,{children:["\u952e\u503c\u5bf9\u5b58\u50a8\u65b9\u9762\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u300c\u54c8\u5e0c\u8868\u300d\u6765\u786e\u4fdd\u63d2\u5165\u548c\u67e5\u8be2\u7684\u590d\u6742\u5ea6\u4e3a ",(0,l.jsxs)(s.span,{className:"katex",children:[(0,l.jsx)(s.span,{className:"katex-mathml",children:(0,l.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(s.semantics,{children:[(0,l.jsxs)(s.mrow,{children:[(0,l.jsx)(s.mi,{children:"O"}),(0,l.jsx)(s.mo,{stretchy:"false",children:"("}),(0,l.jsx)(s.mn,{children:"1"}),(0,l.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,l.jsx)(s.annotation,{encoding:"application/x-tex",children:"O(1)"})]})})}),(0,l.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(s.span,{className:"base",children:[(0,l.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,l.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,l.jsx)(s.span,{className:"mopen",children:"("}),(0,l.jsx)(s.span,{className:"mord",children:"1"}),(0,l.jsx)(s.span,{className:"mclose",children:")"})]})})]}),"\u3002"]}),"\n",(0,l.jsx)(s.p,{children:"\u53e6\u5916\u6211\u4eec\u8fd8\u9700\u8981\u989d\u5916\u7ef4\u62a4\u4e00\u4e2a\u300c\u4f7f\u7528\u987a\u5e8f\u300d\u5e8f\u5217\u3002"}),"\n",(0,l.jsx)(s.p,{children:"\u6211\u4eec\u671f\u671b\u5f53\u300c\u65b0\u6570\u636e\u88ab\u63d2\u5165\u300d\u6216\u300c\u53d1\u751f\u952e\u503c\u5bf9\u67e5\u8be2\u300d\u65f6\uff0c\u80fd\u591f\u5c06\u5f53\u524d\u952e\u503c\u5bf9\u653e\u5230\u5e8f\u5217\u5934\u90e8\uff0c\u8fd9\u6837\u5f53\u89e6\u53d1 LRU \u6dd8\u6c70\u65f6\uff0c\u53ea\u9700\u8981\u4ece\u5e8f\u5217\u5c3e\u90e8\u8fdb\u884c\u6570\u636e\u5220\u9664\u5373\u53ef\u3002"}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsxs)(s.strong,{children:["\u671f\u671b\u5728 ",(0,l.jsxs)(s.span,{className:"katex",children:[(0,l.jsx)(s.span,{className:"katex-mathml",children:(0,l.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(s.semantics,{children:[(0,l.jsxs)(s.mrow,{children:[(0,l.jsx)(s.mi,{children:"O"}),(0,l.jsx)(s.mo,{stretchy:"false",children:"("}),(0,l.jsx)(s.mn,{children:"1"}),(0,l.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,l.jsx)(s.annotation,{encoding:"application/x-tex",children:"O(1)"})]})})}),(0,l.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(s.span,{className:"base",children:[(0,l.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,l.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,l.jsx)(s.span,{className:"mopen",children:"("}),(0,l.jsx)(s.span,{className:"mord",children:"1"}),(0,l.jsx)(s.span,{className:"mclose",children:")"})]})})]})," \u590d\u6742\u5ea6\u5185\u8c03\u6574\u67d0\u4e2a\u8282\u70b9\u5728\u5e8f\u5217\u4e2d\u7684\u4f4d\u7f6e\uff0c\u5f88\u81ea\u7136\u60f3\u5230\u53cc\u5411\u94fe\u8868\u3002"]})}),"\n",(0,l.jsx)(s.hr,{}),"\n",(0,l.jsx)(s.h3,{id:"\u53cc\u5411\u94fe\u8868",children:"\u53cc\u5411\u94fe\u8868"}),"\n",(0,l.jsxs)(s.p,{children:["\u5177\u4f53\u7684\uff0c\u6211\u4eec\u4f7f\u7528\u54c8\u5e0c\u8868\u6765\u5b58\u50a8\u300c\u952e\u503c\u5bf9\u300d\uff0c\u952e\u503c\u5bf9\u7684\u952e\u4f5c\u4e3a\u54c8\u5e0c\u8868\u7684 Key\uff0c\u800c\u54c8\u5e0c\u8868\u7684 Value \u5219\u4f7f\u7528\u6211\u4eec\u81ea\u5df1\u5c01\u88c5\u7684 ",(0,l.jsx)(s.code,{children:"Node"})," \u7c7b\uff0c",(0,l.jsx)(s.code,{children:"Node"})," \u540c\u65f6\u4f5c\u4e3a\u53cc\u5411\u94fe\u8868\u7684\u8282\u70b9\u3002"]}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["\u63d2\u5165\uff1a\u68c0\u67e5\u5f53\u524d\u952e\u503c\u5bf9\u662f\u5426\u5df2\u7ecf\u5b58\u5728\u4e8e\u54c8\u5e0c\u8868\uff1a\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["\u5982\u679c\u5b58\u5728\uff0c\u5219\u66f4\u65b0\u952e\u503c\u5bf9\uff0c\u5e76\u5c06\u5f53\u524d\u952e\u503c\u5bf9\u6240\u5bf9\u5e94\u7684 ",(0,l.jsx)(s.code,{children:"Node"})," \u8282\u70b9\u8c03\u6574\u5230\u94fe\u8868\u5934\u90e8\uff08",(0,l.jsx)(s.code,{children:"refresh"})," \u64cd\u4f5c\uff09"]}),"\n",(0,l.jsxs)(s.li,{children:["\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u68c0\u67e5\u54c8\u5e0c\u8868\u5bb9\u91cf\u662f\u5426\u5df2\u7ecf\u8fbe\u5230\u5bb9\u91cf\uff1a\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["\u6ca1\u8fbe\u5230\u5bb9\u91cf\uff1a\u63d2\u5165\u54c8\u5e0c\u8868\uff0c\u5e76\u5c06\u5f53\u524d\u952e\u503c\u5bf9\u6240\u5bf9\u5e94\u7684 ",(0,l.jsx)(s.code,{children:"Node"})," \u8282\u70b9\u8c03\u6574\u5230\u94fe\u8868\u5934\u90e8\uff08",(0,l.jsx)(s.code,{children:"refresh"})," \u64cd\u4f5c\uff09"]}),"\n",(0,l.jsxs)(s.li,{children:["\u5df2\u8fbe\u5230\u5bb9\u91cf\uff1a\u5148\u4ece\u94fe\u8868\u5c3e\u90e8\u627e\u5230\u5f85\u5220\u9664\u5143\u7d20\u8fdb\u884c\u5220\u9664\uff08",(0,l.jsx)(s.code,{children:"delete"})," \u64cd\u4f5c\uff09\uff0c\u7136\u540e\u518d\u63d2\u5165\u54c8\u5e0c\u8868\uff0c\u5e76\u5c06\u5f53\u524d\u952e\u503c\u5bf9\u6240\u5bf9\u5e94\u7684 ",(0,l.jsx)(s.code,{children:"Node"})," \u8282\u70b9\u8c03\u6574\u5230\u94fe\u8868\u5934\u90e8\uff08",(0,l.jsx)(s.code,{children:"refresh"})," \u64cd\u4f5c\uff09"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\u67e5\u8be2\uff1a\u5982\u679c\u6ca1\u5728\u54c8\u5e0c\u8868\u4e2d\u627e\u5230\u8be5 Key\uff0c\u76f4\u63a5\u8fd4\u56de ",(0,l.jsxs)(s.span,{className:"katex",children:[(0,l.jsx)(s.span,{className:"katex-mathml",children:(0,l.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(s.semantics,{children:[(0,l.jsxs)(s.mrow,{children:[(0,l.jsx)(s.mo,{children:"\u2212"}),(0,l.jsx)(s.mn,{children:"1"})]}),(0,l.jsx)(s.annotation,{encoding:"application/x-tex",children:"-1"})]})})}),(0,l.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(s.span,{className:"base",children:[(0,l.jsx)(s.span,{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),(0,l.jsx)(s.span,{className:"mord",children:"\u2212"}),(0,l.jsx)(s.span,{className:"mord",children:"1"})]})})]}),"\uff1b\u5982\u679c\u5b58\u5728\u8be5 Key\uff0c\u5219\u5c06\u5bf9\u5e94\u7684\u503c\u8fd4\u56de\uff0c\u5e76\u5c06\u5f53\u524d\u952e\u503c\u5bf9\u6240\u5bf9\u5e94\u7684 ",(0,l.jsx)(s.code,{children:"Node"})," \u8282\u70b9\u8c03\u6574\u5230\u94fe\u8868\u5934\u90e8\uff08",(0,l.jsx)(s.code,{children:"refresh"})," \u64cd\u4f5c\uff09"]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"\u4e00\u4e9b\u7ec6\u8282\uff1a"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["\u4e3a\u4e86\u51cf\u5c11\u53cc\u5411\u94fe\u8868\u5de6\u53f3\u8282\u70b9\u7684\u300c\u5224\u7a7a\u300d\u64cd\u4f5c\uff0c\u6211\u4eec\u9884\u5148\u5efa\u7acb\u4e24\u4e2a\u300c\u54e8\u5175\u300d\u8282\u70b9 ",(0,l.jsx)(s.code,{children:"head"})," \u548c ",(0,l.jsx)(s.code,{children:"tail"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"\u4ee3\u7801\uff1a"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-Java",children:"class LRUCache {\n    class Node {\n        int k, v;\n        Node l, r;\n        Node(int _k, int _v) {\n            k = _k;\n            v = _v;\n        }\n    }\n    int n;\n    Node head, tail;\n    Map<Integer, Node> map;\n    public LRUCache(int capacity) {\n        n = capacity;\n        map = new HashMap<>();\n        head = new Node(-1, -1);\n        tail = new Node(-1, -1);\n        head.r = tail;\n        tail.l = head;\n    }\n    \n    public int get(int key) {\n        if (map.containsKey(key)) {\n            Node node = map.get(key);\n            refresh(node);\n            return node.v;\n        } \n        return -1;\n    }\n    \n    public void put(int key, int value) {\n        Node node = null;\n        if (map.containsKey(key)) {\n            node = map.get(key);\n            node.v = value;\n        } else {\n            if (map.size() == n) {\n                Node del = tail.l;\n                map.remove(del.k);\n                delete(del);\n            }\n            node = new Node(key, value);\n            map.put(key, node);\n        }\n        refresh(node);\n    }\n\t\n    // refresh \u64cd\u4f5c\u5206\u4e24\u6b65\uff1a\n    // 1. \u5148\u5c06\u5f53\u524d\u8282\u70b9\u4ece\u53cc\u5411\u94fe\u8868\u4e2d\u5220\u9664\uff08\u5982\u679c\u8be5\u8282\u70b9\u672c\u8eab\u5b58\u5728\u4e8e\u53cc\u5411\u94fe\u8868\u4e2d\u7684\u8bdd\uff09\n    // 2. \u5c06\u5f53\u524d\u8282\u70b9\u6dfb\u52a0\u5230\u53cc\u5411\u94fe\u8868\u5934\u90e8\n    void refresh(Node node) {\n        delete(node);\n        node.r = head.r;\n        node.l = head;\n        head.r.l = node;\n        head.r = node;\n    }\n\t\n    // delete \u64cd\u4f5c\uff1a\u5c06\u5f53\u524d\u8282\u70b9\u4ece\u53cc\u5411\u94fe\u8868\u4e2d\u79fb\u9664\n    // \u7531\u4e8e\u6211\u4eec\u9884\u5148\u5efa\u7acb head \u548c tail \u4e24\u4f4d\u54e8\u5175\uff0c\u56e0\u6b64\u5982\u679c node.l \u4e0d\u4e3a\u7a7a\uff0c\u5219\u4ee3\u8868\u4e86 node \u672c\u8eab\u5b58\u5728\u4e8e\u53cc\u5411\u94fe\u8868\uff08\u4e0d\u662f\u65b0\u8282\u70b9\uff09\n    void delete(Node node) {\n        if (node.l != null) {\n            Node left = node.l;\n            left.r = node.r;\n            node.r.l = left;\n        }\n    }\n}\n"})}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["\u65f6\u95f4\u590d\u6742\u5ea6\uff1a\u5404\u64cd\u4f5c\u5747\u4e3a ",(0,l.jsxs)(s.span,{className:"katex",children:[(0,l.jsx)(s.span,{className:"katex-mathml",children:(0,l.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(s.semantics,{children:[(0,l.jsxs)(s.mrow,{children:[(0,l.jsx)(s.mi,{children:"O"}),(0,l.jsx)(s.mo,{stretchy:"false",children:"("}),(0,l.jsx)(s.mn,{children:"1"}),(0,l.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,l.jsx)(s.annotation,{encoding:"application/x-tex",children:"O(1)"})]})})}),(0,l.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(s.span,{className:"base",children:[(0,l.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,l.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,l.jsx)(s.span,{className:"mopen",children:"("}),(0,l.jsx)(s.span,{className:"mord",children:"1"}),(0,l.jsx)(s.span,{className:"mclose",children:")"})]})})]})]}),"\n",(0,l.jsxs)(s.li,{children:["\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a",(0,l.jsxs)(s.span,{className:"katex",children:[(0,l.jsx)(s.span,{className:"katex-mathml",children:(0,l.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(s.semantics,{children:[(0,l.jsxs)(s.mrow,{children:[(0,l.jsx)(s.mi,{children:"O"}),(0,l.jsx)(s.mo,{stretchy:"false",children:"("}),(0,l.jsx)(s.mi,{children:"n"}),(0,l.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,l.jsx)(s.annotation,{encoding:"application/x-tex",children:"O(n)"})]})})}),(0,l.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(s.span,{className:"base",children:[(0,l.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,l.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,l.jsx)(s.span,{className:"mopen",children:"("}),(0,l.jsx)(s.span,{className:"mord mathnormal",children:"n"}),(0,l.jsx)(s.span,{className:"mclose",children:")"})]})})]})]}),"\n"]}),"\n",(0,l.jsx)(s.hr,{})]})}function m(e={}){const{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>r});var a=n(96540);const l={},c=a.createContext(l);function i(e){const s=a.useContext(c);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),a.createElement(c.Provider,{value:s},e.children)}}}]);