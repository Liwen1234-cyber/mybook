# 总结
**modify data**: 2025-3-19

## 通感一体化

**特点**
- 资源的复用:硬件设备,频谱复用,信号的处理的算法
- 系统的集成:系统内部复杂度提高,减少设备数量,通信和感知的功能紧密耦合,相互增强

**驱动**
- 技术驱动:AI技术需要大量的感知数据支持,5G/6G移动通信技术需要更强的感知能力

## 系统指标

---

工作频段：27.2-29GHz

中频范围：2-3.8GHz

最大采样率：120MHz

目前使用的通信中频频点：2.5GHz

目前使用的感知中频频点：3GHz

目前使用的采样率：60MHz

目前的通信误码率：-37dB

目前的感知距离分辨率：2.5m、感知速度分辨率：4.9m/s(这两个指标和波形有关，可以改)

---

- 多波束有源相控阵：
  1. 天线规模：128(4*32)
  2. 天线子阵及中频通道数：4
  3. 移相器数量：64
  4. EIRP：51dBm@32单元；60dBm@128单元
  5. 接收G/T：-10dB/K
- 单波束有源相控阵：
  1. 天线规模：64(8*8)
  2. 移相器数量：64
  3. EIRP：50dBm
  4. 接收G/T：-8dB/K
-  变频器：
  1. 天线规模：64(8*8)
  2. EIRP：37dBm

---

## 工作流程

这套系统由戴尔T7810工作站[图片1](./images/图片1.jpg)，USRP 2943R[图片2](./images/图片2.jpg)，28G 4波束有源相控阵，28G单波束有源相控阵[图片3](./images/图片3.jpg)，以及28G变频器构成[图片4](./images/图片4.jpg)。

四波束有源相控阵共有128个天线阵元，由A、B、C、D四个子阵组成[图片5](./images/图片5.jpg)；单波束有源相控阵有64个天线阵元，每个阵元都配备一套独立的TR单元[图片6](./images/图片6.jpg)。

在当前系统中，USRP RF0通道产生OFDM通信波形，由四波束相控阵的D子阵发射，在经过无线信道后，由28G变频器接收；另一方面，USRP RF1通道产生线性调频脉冲波形，由四波束相控阵的A子阵发射，经过目标反射和环境散射后，由单波束相控阵接收；接收到的两路信号通过USRP下变频至基带后，进行信号处理，从而实现通信和感知功能。

示意图：

![](./images/20250226134700.png)

这是我们搭建的通感一体化原型验证软件平台[图片7](./images/图片7.jpg)，其中收发端的信号处理均由Matlab完成，方便进行灵活配置[图片8](./images/图片8.jpg)。通信数据为一幅图像，在完成波形参数和硬件配置后，运行程序，可以看到通信接收端能够以较低的误码率恢复图像，同时，感知接收端通过脉冲压缩和多普勒滤波器组之后，可测量目标的距离和速度，这是回波信号处理后的二维MTD图，可以看到，目标的距离为2.5m，速度为 0 m/s，与真实的目标参数较为吻合[图片9](./images/图片9.jpg)。在这套系统中，通信和感知的收发波形均在前面板上可视化，方便在调试中进行比对和修改，两个程序前面板为[程序图1](./images/程序图1.png)、[程序图2](./images/程序图2.png)

此外，我们搭建了通信波束训练的原型验证平台，通过多阶段码本设计，可以快速地确定最优的波束指向，从而有助于提升通信接收信号的质量，相比于穷举法，可以显著减少波束训练的开销。

---

## Labview编程技巧

为了减少vi接线柱使用数量，可以多使用簇来传递数据：先bundle,然后unbundle

## UI

---

**USRP2944**

28GHz 64TR相控阵

GSR 通感一体化软件

OFDM＋线性调频

**单波束**发射

接收：

![](./images/12e12e.png)

16QAM

感知部分：多普勒FFT

波形和解析算法都是可以**自定义**的

---

发射5G NR TM3.2的波形+线性调频信号

有一个手动移相器

![](./images/未命名图片.png)

做数据流盘：

![](./images/未命名图片1.png)

![](./images/未命名图片2.png)

前一部分是5G NR信号，后一部分是线性调频信号

---

[GSR-ISAC](https://gaustech.org/sdr-software/gsr-isac.html)

![](./images/未命名图片3.png)

统一UI

- Tx Cfg:
            基于time的同步-future time event

- Rx Cfg:
            Streaming/display:
            显示与分析-display on
            数据流盘-streaming
            Align with tx和Rx flow ctrl默认勾选（可自动匹配Tx Cfg）

- FIFO状态：
            Mem Loop代表着所有的数据都是在内存当中循环
            Loop就是数据是包含着文件一起在循环

PSD功率谱密度

接收机的FFT length必须和发射机的iFFT length一致

Trime length = -1表示自动去CP

取其他数表示手动配置CP的长度

matlab的输出N_act对应的是实际的长度

- 高速流盘与回放：
            I & Q Streaming
            保存文件路径
            触发次数

本VI用于将USRP 294x 295x采集的TDMS段落交织型数据转换成DIAdem可以直接读取的数据排列方式

- 本振泄露：
            数字中频技术来处理，折损了一半的使用带宽
             

 ![](./images/12e1das2e.png)
