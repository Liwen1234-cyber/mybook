<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-左耳听风/程序员练级攻略：异步I-O模型和Lock-Free编程-78" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">78 | 程序员练级攻略：异步I/O模型和Lock-Free编程 | Coisini</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://doc.middiy.top/左耳听风/程序员练级攻略：异步I-O模型和Lock-Free编程-78/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="78 | 程序员练级攻略：异步I/O模型和Lock-Free编程 | Coisini"><meta data-rh="true" name="description" content="你好，我是陈皓，网名左耳朵耗子。"><meta data-rh="true" property="og:description" content="你好，我是陈皓，网名左耳朵耗子。"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://doc.middiy.top/左耳听风/程序员练级攻略：异步I-O模型和Lock-Free编程-78/"><link data-rh="true" rel="alternate" href="https://doc.middiy.top/左耳听风/程序员练级攻略：异步I-O模型和Lock-Free编程-78/" hreflang="en"><link data-rh="true" rel="alternate" href="https://doc.middiy.top/左耳听风/程序员练级攻略：异步I-O模型和Lock-Free编程-78/" hreflang="x-default"><meta name="google-site-verification" content="1FUPX6Qo4y3ecU623ShEurhgnjhSTjK49rRMhEDlzFA">
<link rel="stylesheet" href="/katex/katex.min.css">
<script src="/js/matomo.js" async defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.53ea8373.css">
<script src="/assets/js/runtime~main.335811da.js" defer="defer"></script>
<script src="/assets/js/main.65daffdc.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Chialisp Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Chialisp Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Coisini</b></a></div><div class="navbar__items navbar__items--right"><a href="https://minddiy.top" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Main site<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/分享/">分享</a><button aria-label="Expand sidebar category &#x27;分享&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/读书笔记/">读书笔记</a><button aria-label="Expand sidebar category &#x27;读书笔记&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/技巧/">技巧</a><button aria-label="Expand sidebar category &#x27;技巧&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/数学/">数学</a><button aria-label="Expand sidebar category &#x27;数学&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/思考/">思考</a><button aria-label="Expand sidebar category &#x27;思考&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/学习/">学习</a><button aria-label="Expand sidebar category &#x27;学习&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/码 农/">码农</a><button aria-label="Expand sidebar category &#x27;码农&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/毛选/">毛选</a><button aria-label="Expand sidebar category &#x27;毛选&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/左耳听风/">左耳听风</a><button aria-label="Collapse sidebar category &#x27;左耳听风&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员如何用技术变现（上）-01/">01 | 程序员如何用技术变现（上）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员如何用技术变现（下）-02/">02 | 程序员如何用技术变现（下）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/Equifax信息泄露始末-03/">03 | Equifax信息泄露始末</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/从Equifax信息泄露看数据安全-04/">04 | 从Equifax信息泄露看数据安全</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/何为技术领导力？-05/">05 | 何为技术领导力？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/如何才能拥有技术领导力？-06/">06 | 如何才能拥有技术领导力？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/推荐阅读：每个程序员都该知道的知识-07/">07 | 推荐阅读：每个程序员都该知道的知识</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/Go语言，Docker和新技术-08/">08 | Go语言，Docker和新技术</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/答疑解惑：渴望、热情和选择-09/">09 | 答疑解惑：渴望、热情和选择</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/如何成为一个大家愿意追随的Leader？-10/">10 | 如何成为一个大家愿意追随的Leader？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序中的错误处理：错误返回码和异常捕捉-11/">11 | 程序中的错误处理：错误返回码和异常捕捉</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序中的错误处理：异步编程以及我的最佳实践-12/">12 | 程序中的错误处理：异步编程以及我的最佳实践</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/魔数0x5f3759df-13/">13 | 魔数 0x5f3759df</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/推荐阅读：机器学习101-14/">14 | 推荐阅读：机器学习101</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/时间管理：同扭曲时间的事儿抗争-15/">15 | 时间管理：同扭曲时间的事儿抗争</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/时间管理：如何利用好自己的时间？-16/">16 | 时间管理：如何利用好自己的时间？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/故障处理最佳实践：应对故障-17/">17 | 故障处理最佳实践：应对故障</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/故障处理最佳实践：故障改进-18/">18 | 故障处理最佳实践：故障改进</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/答疑解惑：我们应该能够识别的表象和本质-19/">19 | 答疑解惑：我们应该能够识别的表象和本质</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/Git协同工作流，你该怎么选？-20/">20 | Git协同工作流，你该怎么选？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/分布式系统架构的冰与火-21/">21 | 分布式系统架构的冰与火</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/从亚马逊的实践，谈分布式系统的难点-22/">22 | 从亚马逊的实践，谈分布式系统的难点</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/分布式系统的技术栈-23/">23 | 分布式系统的技术栈</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/分布式系统关键技术：全栈监控-24/">24 | 分布式系统关键技术：全栈监控</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/分布式系统关键技术：服务调度-25/">25 | 分布式系统关键技术：服务调度</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/分布式系统关键技术：流量与数据调度-26/">26 | 分布式系统关键技术：流量与数据调度</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/洞悉PaaS平台的本质-27/">27 | 洞悉PaaS平台的本质</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/推荐阅读：分布式系统架构经典资料-28/">28 | 推荐阅读：分布式系统架构经典资料</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/推荐阅读：分布式数据调度相关论文-29/">29 | 推荐阅读：分布式数据调度相关论文</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/编程范式游记（1）-起源-30/">30 | 编程范式游记（1）- 起源</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/编程范式游记（2）-泛型编程-31/">31 | 编程范式游记（2）- 泛型编程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/编程范式游记（3）-类型系统和泛型的本质-32/">32 | 编程范式游记（3） - 类型系统和泛型的本质</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/编程范式游记（4）-函数式编程-33/">33 | 编程范式游记（4）- 函数式编程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/编程范式游记（5）-修饰器模式-34/">34 | 编程范式游记（5）- 修饰器模式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/编程范式游记（6）-面向对象编程-35/">35 | 编程范式游记（6）- 面向对象编程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/编程范式游记（7）-基于原型的编程范式-36/">36 | 编程范式游记（7）- 基于原型的编程范式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/编程范式游记（8）-Go语言的委托模式-37/">37 | 编程范式游记（8）- Go 语言的委托模  式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/编程范式游记（9）-编程的本质-38/">38 | 编程范式游记（9）- 编程的本质</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/编程范式游记（10）-逻辑编程范式-39/">39 | 编程范式游记（10）- 逻辑编程范式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/编程范式游记（11）-程序世界里的编程范式-40/">40 | 编程范式游记（11）- 程序世界里的编程范式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/弹力设计篇之“认识故障和弹力设计”-41/">41 | 弹力设计篇之“认识故障和弹力设计”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/弹力设计篇之“隔离设计”-42/">42 | 弹力设计篇之“隔离设计”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/弹力设计篇之“异步通讯设计”-43/">43 | 弹力设计篇之“异步通讯设计”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/弹力设计篇之“幂等性设计”-44/">44 | 弹力设计篇之“幂等性设计”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/弹力设计篇之“服务的状态”-45/">45 | 弹力设计篇之“服务的状态”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/弹力设计篇之“补偿事务”-46/">46 | 弹力设计篇之“补偿事务”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/弹力设计篇之“重试设计”-47/">47 | 弹力设计篇之“重试设计”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/弹力设计篇之“熔断设计”-48/">48 | 弹力设计篇之“熔断设计”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/弹力设计篇之“限流设计”-49/">49 | 弹力设计篇之“限流设计”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/弹力设计篇之“降级设计”-50/">50 | 弹力设计篇之“降级设计”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/弹力设计篇之“弹力设计总结”-51/">51 | 弹力设计篇之“弹力设计总结”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/管理设计篇之“分布式锁”-52/">52 | 管理设计篇之“分布式锁”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/管理设计篇之“配置中心”-53/">53 | 管理设计篇之“配置中心”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/管理设计篇之“边车模式”-54/">54 | 管理设计篇之“边车模式”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/管理设计篇之“服务网格”-55/">55 | 管理设计篇之“服务网格”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/管理设计篇之“网关模式”-56/">56 | 管理设计篇之“网关模式”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/管理设计篇之“部署升级策略”-57/">57 | 管理设计篇之“部署升级策略”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/性能设计篇之“缓存”-58/">58 | 性能设计篇之“缓存”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/性能设计篇之“异步处理”-59/">59 | 性能设计篇之“异步处理”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/性能设计篇之“数据库扩展”-60/">60 | 性能设计篇之“数据库扩展”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/性能设计篇之“秒杀”-61/">61 | 性能设计篇之“秒杀”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/性能设计篇之“边缘计算”-62/">62 | 性能设计篇之“边缘计算”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/区块链技术的本质-63/">63 | 区块链技术的本质</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/区块链技术细节：哈希算法-64/">64 | 区块链技术细节：哈希算法</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/区块链技术细节：加密和挖矿-65/">65 |  区块链技术细节：加密和挖矿</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/区块链技术细节：去中心化的共识机制-66/">66 | 区块链技术细节：去中心化的共识机制</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/区块链技术细节：智能合约-67/">67 | 区块链技术细节：智能合约</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/区块链技术-传统金融和虚拟货币-68/">68 | 区块链技术 - 传统金融和虚拟货币</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：开篇词-69/">69 | 程序员练级攻略：开篇词</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：零基础启蒙-70/">70 | 程序员练级攻略：零基础启蒙</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：正式入门-71/">71 | 程序员练级攻略：正式入门</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：程序员修养-72/">72 | 程序员练级攻略：程序员修养</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：编程语言-73/">73 | 程序员练级攻略：编程语言</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：理论学科-74/">74 | 程序员练级攻略：理论学科</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：系统知识-75/">75 | 程序员练级攻略：系统知识</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：软件设计-76/">76 | 程序员练级攻略：软件设计</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：Linux系统、内存和网络-77/">77 | 程序员练级攻略：Linux系统、内存和网络</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/左耳听风/程序员练级攻略：异步I-O模型和Lock-Free编程-78/">78 | 程序员练级攻略：异步I/O模型和Lock-Free编程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：Java底层知识-79/">79 | 程序员练级攻略：Java底层知识</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：数据库-80/">80 | 程序员练级攻略：数据库</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：分布式架构入门-81/">81 | 程序员练级攻略：分布式架构入门</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：分布式架构经典图书和论文-82/">82 | 程序员练级攻略：分布式架构经典图书和论文</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：分布式架构工程设计-83/">83 | 程序员练级攻略：分布式架构工程设计</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：微服务-84/">84 | 程序员练级攻略：微服务</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：容器化和自动化运维-85/">85 | 程序员练级攻略：容器化和自动化运维</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：机器学习和人工智能-86/">86 | 程序员练级攻略：机器学习和人工智能</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：前端基础和底层原理-87/">87 | 程序员练级攻略：前端基础和底层原理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：前端性能优化和框架-88/">88 | 程序员练级攻略：前端性能优化和框架</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：UI-UX设计-89/">89 | 程序员练级攻略：UI/UX设计</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略：技术资源集散地-90/">90 | 程序员练级攻略：技术资源集散地</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员练级攻略的正确打开方式-91/">91 | 程序员练级攻略的正确打开方式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员面试攻略：面试前的准备-92/">92 | 程序员面试攻略：面试前的准备</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员面试攻略：面试中的技巧-93/">93 | 程序员面试攻略：面试中的技巧</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序员面试攻略：面试风格-94/">94 | 程序员面试攻略：面试风格</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/程序 员面试攻略：实力才是王中王-95/">95 | 程序员面试攻略：实力才是王中王</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/高效学习：端正学习态度-96/">96 | 高效学习：端正学习态度</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/高效学习：源头、原理和知识地图-97/">97 | 高效学习：源头、原理和知识地图</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/高效学习：深度，归纳和坚持实践-98/">98 | 高效学习：深度，归纳和坚持实践</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/高效学习：如何学习和阅读代码-99/">99 | 高效学习：如何学习和阅读代码</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/高效学习：面对枯燥和量大的知识-100/">100 | 高效学习：面对枯燥和量大的知识</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/高效沟通：Talk和Code同等重要-101/">101 | 高效沟通：Talk和Code同等重要</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/高效沟通：沟通阻碍和应对方法-102/">102 | 高效沟通：沟通阻碍和应对方法</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/高效沟通：沟通方式及技巧-103/">103 | 高效沟通：沟通方式及技巧</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/高效沟通：沟通技术-104/">104 | 高效沟通：沟通技术</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/高效沟通：好老板要善于提问-105/">105 | 高效沟通：好老板要善于提问</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/高效沟通：好好说话的艺术-106/">106 | 高效沟通：好好说话的艺术</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/Go编程模式：切片、接口、时间和性能-107/">107 | Go编程模式：切片、接口、时间和性能</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/Go编程模式：错误处理-108/">108 | Go 编程模式：错误处理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/Go编程模式：FunctionalOptions-109/">109 | Go 编程模式：Functional Options</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/Go编程模式：委托和反转控制-110/">110 | Go编程模式：委托和反转控制</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/Go编程模式：Map-Reduce-111/">111 | Go 编程模式：Map-Reduce</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/Go编程模式：GoGeneration-112/">112 | Go 编程模式：Go Generation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/Go编程模式：修饰器-113/">113 | Go编程模式：修饰器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/Go编程模式：Pipeline-114/">114 | Go编程模式：Pipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/Go编程模式：KubernetesVisitor模式-115/">115 | Go 编程模式：Kubernetes Visitor模式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/谈谈我的“三观”-加餐/">加餐 | 谈谈我的“三观”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/洞悉技术的本质，享受科技的乐趣-开篇词/">开篇词  |  洞悉技术的本质，享受科技的乐趣</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/业精于勤，行成于思-结束语/">结束语 | 业精于勤，行成于思</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/左耳听风/课程迭代｜全新交付117讲音频/">课程迭代｜全新交付117讲音频</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/左耳听风/"><span itemprop="name">左耳听风</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">78 | 程序员练级攻略：异步I/O模型和Lock-Free编程</span><meta itemprop="position" content="2"></li></ul></nav><div class="theme-doc-markdown markdown"><header><h1>78 | 程序员练级攻略：异步I/O模型和Lock-Free编程</h1></header>
<p>你好，我是陈皓，网名左耳朵耗子。</p>
<h1>异步I/O模型</h1>
<p>异步I/O模型是我个人觉得所有程序员都必需要学习的一门技术或是编程方法，这其中的设计模式或是解决方法可以借鉴到分布式架构上来。再说一遍，学习这些模型，是非常非常重要的，你千万要认真学习。</p>
<p>史蒂文斯（Stevens）在《 <a href="https://book.douban.com/subject/4859464/" target="_blank" rel="noopener noreferrer">UNIX网络编程</a>》一书6.2 I/O Models中介绍了五种I/O模型。</p>
<ul>
<li>阻塞I/O</li>
<li>非阻塞I/O</li>
<li>I/O的多路复用（select和poll）</li>
<li>信号驱动的I/O（SIGIO）</li>
<li>异步I/O（POSIX的aio_functions）</li>
</ul>
<p>然后，在前面我们也阅读过了 - <a href="https://en.wikipedia.org/wiki/C10k_problem" target="_blank" rel="noopener noreferrer">C10K Problem</a> 。相信你对I/O模型也有了一定的了解。 这里，我们需要更为深入地学习I/O模型，尤其是其中的异步I/O模型。</p>
<p>首先，我们看一篇和Java相关的I/O模型的文章来复习一下之前的内容。 <a href="https://www.slideshare.net/e456/tyma-paulmultithreaded1" target="_blank" rel="noopener noreferrer">Thousands of Threads and Blocking I/O: The Old Way to Write Java Servers Is New Again (and Way Better)</a> ，这个PPT中不仅回顾和比较了各种I/O模型，而且还有各种比较细节的方案和说明，是一篇非常不错的文章。</p>
<p>然后，你可以看一篇Java相关的PPT - 道格·莱亚（Doug Lea）的 <a href="http://gee.cs.oswego.edu/dl/cpjslides/nio.pdf" target="_blank" rel="noopener noreferrer">Scalable IO in Java</a>，这样你会对一些概念有个了解。</p>
<p>接下来，我们需要了解一下各种异步I/O的实现和设计方式。</p>
<ul>
<li>
<p><a href="https://developer.ibm.com/technologies/linux/articles/l-async/" target="_blank" rel="noopener noreferrer">IBM - Boost application performance using asynchronous I/O</a> ，这是一篇关于AIO的文章。</p>
</li>
<li>
<p><a href="https://www.usenix.org/legacy/event/usenix04/tech/general/full_papers/elmeleegy/elmeleegy_html/html.html" target="_blank" rel="noopener noreferrer">Lazy Asynchronous I/O For Event-Driven Servers</a> ，这篇文章也很不错。</p>
</li>
<li>
<p>另外，异步I/O模型中的 <a href="https://docs.microsoft.com/en-us/windows/desktop/FileIO/i-o-completion-ports" target="_blank" rel="noopener noreferrer">Windows I/O Completion Ports</a> ,你也需要了解一下。如果MSDN上的这个手册不容易读，你可以看看这篇文章 <a href="http://sysinternals.d4rk4.ru/Information/IoCompletionPorts.html" target="_blank" rel="noopener noreferrer">Inside I/O Completion Ports</a>。另外，关于Windows， <a href="https://book.douban.com/subject/6935552/" target="_blank" rel="noopener noreferrer">Windows Internals</a> 这本书你可以仔细读一下，非常不错的。其中有一节I/O Processing也是很不错的，这里我给一个网上免费的链接 <a href="https://flylib.com/books/en/4.491.1.85/1/" target="_blank" rel="noopener noreferrer">I/O Processing</a> 你可以看看Windows是怎么玩的。</p>
</li>
<li>
<p>接下来是Libevent。你可以看一下其主要维护人员尼克·马修森（Nick Mathewson）写的 <a href="http://www.wangafu.net/~nickm/libevent-book/" target="_blank" rel="noopener noreferrer">Libevent 2.0 book</a>。还有一本国人写的电子书 《 <a href="https://aceld.gitbooks.io/libevent/content/" target="_blank" rel="noopener noreferrer">Libevent深入浅出</a>》。</p>
</li>
<li>
<p>再接下来是 Libuv。你可以看一下其官网的 <a href="http://docs.libuv.org/en/v1.x/design.html" target="_blank" rel="noopener noreferrer">Libuv Design Overview</a> 了解一下。</p>
</li>
</ul>
<p>我简单总结一下，基本上来说，异步I/O模型的发展技术是： select -&gt; poll -&gt; epoll -&gt; aio -&gt; libevent -&gt; libuv。Unix/Linux用了好几十年走过这些技术的变迁，然而，都不如Windows I/O Completion Port 设计得好（免责声明：这个观点纯属个人观点。相信你仔细研究这些I/O模型后，你会有自己的判断）。</p>
<p>看过这些各种异步I/O模式的实现以后，相信你会看到一个编程模式——Reactor模式。下面是这个模式的相关文章（读这三篇就够了）。</p>
<ul>
<li><a href="https://dzone.com/articles/understanding-reactor-pattern-thread-based-and-eve" target="_blank" rel="noopener noreferrer">Understanding Reactor Pattern: Thread-Based and Event-Driven</a></li>
<li><a href="https://www.dre.vanderbilt.edu/~schmidt/PDF/Reactor2-93.pdf" target="_blank" rel="noopener noreferrer">Reactor Pattern</a></li>
<li><a href="https://www.celum.com/en/blog/technology/the-reactor-pattern-and-non-blocking-io" target="_blank" rel="noopener noreferrer">The reactor pattern and non-blocking IO</a></li>
</ul>
<p>然后是几篇有意思的延伸阅读文章。</p>
<ul>
<li>
<p><a href="http://highscalability.com/blog/2013/5/13/the-secret-to-10-million-concurrent-connections-the-kernel-i.html" target="_blank" rel="noopener noreferrer">The Secret To 10 Million Concurrent Connections -The Kernel Is The Problem, Not The Solution</a> - C10M问题来了……</p>
</li>
<li>
<p>还有几篇可能有争议的文章，让你从不同的角度思考。</p>
<ul>
<li><a href="https://idea.popcount.org/2017-01-06-select-is-fundamentally-broken/" target="_blank" rel="noopener noreferrer">Select is fundamentally broken</a></li>
<li><a href="https://idea.popcount.org/2017-02-20-epoll-is-fundamentally-broken-12/" target="_blank" rel="noopener noreferrer">Epoll is fundamentally broken 1/2</a></li>
<li><a href="https://idea.popcount.org/2017-03-20-epoll-is-fundamentally-broken-22/" target="_blank" rel="noopener noreferrer">Epoll is fundamentally broken 2/2</a></li>
</ul>
</li>
</ul>
<h1>Lock-Free编程相关</h1>
<p>Lock-Free - 无锁技术越来越被开发人员重视，因为锁对于性能的影响实在是太大了，所以如果想开发出一个高性能的程序，你就非常有必要学习 Lock-Free的编程方式。</p>
<p>关于无锁的数据结构，有几篇教程你可以看一下。</p>
<ul>
<li>
<p><a href="http://www.drdobbs.com/lock-free-data-structures/184401865" target="_blank" rel="noopener noreferrer">Dr.Dobb’s: Lock-Free Data Structures</a></p>
</li>
<li>
<p><a href="https://erdani.com/publications/cuj-2004-10.pdf" target="_blank" rel="noopener noreferrer">Andrei Alexandrescu: Lock-Free Data Structures</a></p>
</li>
</ul>
<p>然后强烈推荐一本免费的电子书： <a href="https://www.kernel.org/pub/linux/kernel/people/paulmck/perfbook/perfbook.html" target="_blank" rel="noopener noreferrer">Is Parallel Programming Hard, And, If So, What Can You Do About It?</a> ，这是大牛 <a href="https://www.linkedin.com/in/paulmckenney/" target="_blank" rel="noopener noreferrer">保罗·麦肯尼（Paul E. McKenney）</a> 写的书。这本书堪称并行编程的经典书，必看。</p>
<p>此时，Wikipedia上有三个词条你要看一下，以此了解并发编程中的一些概念： <a href="https://en.wikipedia.org/wiki/Non-blocking_algorithm" target="_blank" rel="noopener noreferrer">Non-blocking algorithm</a> 、 <a href="https://en.wikipedia.org/wiki/Read-copy-update" target="_blank" rel="noopener noreferrer">Read-copy-update</a> 和 <a href="https://en.wikipedia.org/wiki/Seqlock" target="_blank" rel="noopener noreferrer">Seqlock</a>。</p>
<p>接下来，读一下以下两篇论文 。</p>
<ul>
<li>
<p><a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.53.8674&amp;rep=rep1&amp;type=pdf" target="_blank" rel="noopener noreferrer">Implementing Lock-Free Queues</a>， 这也是一篇很不错的论文，我把它介绍在了我的网站上 ，文章为“ <a href="https://coolshell.cn/articles/8239.html" target="_blank" rel="noopener noreferrer">无锁队列的实现</a>”。</p>
</li>
<li>
<p><a href="http://www.cs.rochester.edu/~scott/papers/1996_PODC_queues.pdf" target="_blank" rel="noopener noreferrer">Simple, Fast, and Practical Non-Blocking and Blocking Concurrent Queue Algorithms</a> ，这篇论文给出了一个无阻塞和阻塞的并发队列算法。</p>
</li>
</ul>
<p>最后，有几个博客你要订阅一下。</p>
<ul>
<li>
<p><a href="http://www.1024cores.net/" target="_blank" rel="noopener noreferrer">1024cores</a> - 德米特里·伐由科夫（Dmitry Vyukov）的和 lock-free 编程相关的网站。</p>
</li>
<li>
<p><a href="http://paulmck.livejournal.com/" target="_blank" rel="noopener noreferrer">Paul E. McKenney</a> - 保罗（Paul）的个人网站。</p>
</li>
<li>
<p><a href="http://concurrencyfreaks.blogspot.com/" target="_blank" rel="noopener noreferrer">Concurrency Freaks</a> - 关于并发算法和相关模式的网站。</p>
</li>
<li>
<p><a href="http://preshing.com/" target="_blank" rel="noopener noreferrer">Preshing on Programming</a> - 加拿大程序员杰夫·普莱辛（Jeff Preshing）的技术博客，主要关注C++和Python两门编程语言。他用C++11实现了类的反射机制，用C++编写了3D小游戏Hop Out，还为该游戏编写了一个游戏引擎。他还讨论了很多C++的用法，比如C++14推荐的代码写法、新增的某些语言构造等，和Python很相似。阅读这个技术博客上的内容能够深深感受到博主对编程世界的崇敬和痴迷。</p>
</li>
<li>
<p><a href="http://herbsutter.com/" target="_blank" rel="noopener noreferrer">Sutter’s Mill</a> - 赫布·萨特（Herb Sutter）是一位杰出的C++专家，曾担任ISO C++标准委员会秘书和召集人超过10年。他的博客有关于C++语言标准最新进展的信息，其中也有他的演讲视频。博客中还讨论了其他技术和C++的差异，如C#和JavaScript，它们的性能特点、怎样避免引入性能方面的缺陷等。</p>
</li>
<li>
<p><a href="http://mechanical-sympathy.blogspot.com/" target="_blank" rel="noopener noreferrer">Mechanical Sympathy</a> - 博主是马丁·汤普森（Martin Thompson），他是一名英国的技术极客，探索现代硬件的功能，并提供开发、培训、性能调优和咨询服务。他的博客主题是Hardware and software working together in harmony，里面探讨了如何设计和编写软件使得它在硬件上能高性能地运行。非常值得一看。</p>
</li>
</ul>
<p>接下来，是一些编程相关的一些C/C++的类库，这样你就不用从头再造轮子了（对于Java的，请参看JDK里的Concurrent开头的一系列的类）。</p>
<ul>
<li>
<p><a href="http://www.boost.org/doc/libs/1_60_0/doc/html/lockfree.html" target="_blank" rel="noopener noreferrer">Boost.Lockfree</a> - Boost库中的无锁数据结构。</p>
</li>
<li>
<p><a href="https://github.com/concurrencykit/ck" target="_blank" rel="noopener noreferrer">ConcurrencyKit</a> - 并发性编程的原语。</p>
</li>
<li>
<p><a href="https://github.com/facebook/folly" target="_blank" rel="noopener noreferrer">Folly</a> - Facebook的开源库（它对MPMC队列做了一个很好的实现）。</p>
</li>
<li>
<p><a href="https://github.com/preshing/junction" target="_blank" rel="noopener noreferrer">Junction</a> - C++中的并发数据结构。</p>
</li>
<li>
<p><a href="https://github.com/rigtorp/MPMCQueue" target="_blank" rel="noopener noreferrer">MPMCQueue</a> - 一个用C++11编写的有边界的“多生产者-多消费者”无锁队列。</p>
</li>
<li>
<p><a href="https://github.com/rigtorp/SPSCQueue" target="_blank" rel="noopener noreferrer">SPSCQueue</a> - 一个有边界的“单生产者-单消费者”的无等待、无锁的队列。</p>
</li>
<li>
<p><a href="https://github.com/rigtorp/Seqlock" target="_blank" rel="noopener noreferrer">Seqlock</a> - 用C++实现的Seqlock。</p>
</li>
<li>
<p><a href="http://liburcu.org/" target="_blank" rel="noopener noreferrer">Userspace RCU</a> - liburcu是一个用户空间的RCU（Read-copy-update，读-拷贝-更新）库。</p>
</li>
<li>
<p><a href="https://github.com/khizmax/libcds" target="_blank" rel="noopener noreferrer">libcds</a> - 一个并发数据结构的C++库。</p>
</li>
<li>
<p><a href="https://liblfds.org/" target="_blank" rel="noopener noreferrer">liblfds</a> - 一个用C语言编写的可移植、无许可证、无锁的数据结构库。</p>
</li>
</ul>
<h1>其它</h1>
<ul>
<li>
<p>关于64位系统编程，只要去一个地方就行了： <a href="https://software.intel.com/en-us/blogs/2011/07/07/all-about-64-bit-programming-in-one-place/" target="_blank" rel="noopener noreferrer">All about 64-bit programming in one place</a>，这是一个关于64位编程相关的收集页面，其中包括相关的文章、28节课程，还有知识库和相关的blog。</p>
</li>
<li>
<p><a href="https://dl.acm.org/citation.cfm?id=3037750" target="_blank" rel="noopener noreferrer">What Scalable Programs Need from Transactional Memory</a> ，事务性内存（TM）一直是许多研究的重点，它在诸如IBM Blue Gene/Q和Intel Haswell等处理器中得到了支持。许多研究都使用STAMP基准测试套件来评估其设计。然而，我们所知的所有TM系统上的STAMP基准测试所获得的加速比较有限。</p>
<p>例如，在IBM Blue Gene/Q上有64个线程，我们观察到使用Blue Gene/Q硬件事务内存（HTM）的中值加速比为1.4倍，使用软件事务内存（STM）的中值加速比为4.1倍。什么限制了这些TM基准的性能？在本论文中，作者认为问题在于用于编写它们的编程模型和数据结构上，只要使用合适的模型和数据结构，程序的性能可以有10多倍的提升。</p>
</li>
<li>
<p><a href="https://software.intel.com/en-us/articles/improving-openssl-performance" target="_blank" rel="noopener noreferrer">Improving OpenSSL Performance</a> ，这篇文章除了教你如何提高OpenSSL的执行性能，还讲了一些底层的性能调优知识。</p>
</li>
<li>
<p>关于压缩的内容。为了避免枯燥，主要推荐下面这两篇实践性很强的文章。</p>
<ul>
<li>
<p><a href="https://www.ebayinc.com/stories/blogs/tech/how-ebays-shopping-cart-used-compression-techniques-to-solve-network-io-bottlenecks/" target="_blank" rel="noopener noreferrer">How eBay’s Shopping Cart used compression techniques to solve network I/O bottlenecks</a> ，这是一篇很好的文章，讲述了eBay是如何通过压缩数据来提高整体服务性能的，其中有几个比较好的压缩算法。除了可以让你学到相关的技术知识，还可以让你看到一种比较严谨的工程师文化。</p>
</li>
<li>
<p><a href="https://engineering.linkedin.com/blog/2017/05/boosting-site-speed-using-brotli-compression" target="_blank" rel="noopener noreferrer">Linkedin: Boosting Site Speed Using Brotli Compression</a> ，LinkedIn在2017年早些时候开始使用 <a href="https://en.wikipedia.org/wiki/Brotli" target="_blank" rel="noopener noreferrer">Brotli</a> 来替换 gzip，以此带来更快的访问 ，这篇文章讲述了什么是Brotli以及与其它压缩程序的比较和所带来的性能提升。</p>
</li>
</ul>
</li>
<li>
<p>这里有两篇关于SSD硬盘性能测试的文章。 <a href="https://devs.mailchimp.com/blog/performance-testing-with-ssds-part-1/" target="_blank" rel="noopener noreferrer">Performance Testing with SSDs, Part 1</a> 和 <a href="https://devs.mailchimp.com/blog/performance-testing-with-ssds-pt-2/" target="_blank" rel="noopener noreferrer">Performance Testing with SSDs Part 2</a> ，这两篇文章介绍了测试SSD硬盘性能以及相关的操作系统调优方法。</p>
</li>
<li>
<p><a href="https://www.dwheeler.com/secure-programs/" target="_blank" rel="noopener noreferrer">Secure Programming HOWTO - Creating Secure Software</a> ，这是一本电子书，其中有繁体中文的翻译，这本电子书讲了Linux/Unix下的一些安全编程方面的知识。</p>
</li>
</ul>
<h1>相关论文</h1>
<ul>
<li>
<p><a href="https://www.microsoft.com/en-us/research/wp-content/uploads/2016/02/acrobat-17.pdf" target="_blank" rel="noopener noreferrer">Hints for Computer System Design</a> ，计算机设计的忠告，这是ACM图灵奖得主 <a href="https://en.wikipedia.org/wiki/Butler_Lampson" target="_blank" rel="noopener noreferrer">Butler Lampson</a> 在Xerox PARC工作时的一篇论文。这篇论文简明扼要地总结了他在做系统设计时的一些想法，非常值得一读。（用他的话来说，“Studying the design and implementation of a number of computer has led to some general hints for system design. They are described here and illustrated by many examples, ranging from hardware such as the Alto and the Dorado to application programs such as Bravo and Star“。）</p>
</li>
<li>
<p><a href="http://www.hpl.hp.com/techreports/tandem/TR-86.1.pdf" target="_blank" rel="noopener noreferrer">The 5 minute rule for trading memory for disc accesses and the 5 byte rule for trading memory for CPU time</a> ，根据文章名称也可以看出，5分钟法则是用来衡量内存与磁盘的，而5字节法则则是在内存和CPU之间的权衡。这两个法则是Jim Gray和Franco Putzolu在1986年的文章。</p>
<p>在该论文发表10年后的1997年，Jim Gray和Goetz Graefe 又在 <a href="http://research.microsoft.com/en-us/um/people/gray/5_min_rule_SIGMOD.pdf" target="_blank" rel="noopener noreferrer">The Five-Minute Rule Ten Years Later and Other Computer Storage Rules of Thumb</a> 中对该法则进行了重新审视。2007年，也就是该论文发表20年后，这年的1月28日，Jim Gray驾驶一艘40英尺长的船从旧金山港出海，目的是航行到附近的费拉隆岛，在那里撒下母亲的骨灰。出海之后，他就同朋友和亲属失去了联系。为了纪念和向大师致敬，时隔10多年后的2009年Goetz Graefe又发表了 <a href="http://cacm.acm.org/magazines/2009/7/32091-the-five-minute-rule-20-years-later/fulltext" target="_blank" rel="noopener noreferrer">The Five-Minute Rule 20 Years Later (and How Falsh Memory Changes the Rules)</a>。</p>
<p>注明一下，Jim Gray是关系型数据库领域的大师。因在数据库和事务处理研究和实现方面的开创性贡献而获得1998年图灵奖。美国科学院、工程院两院院士，ACM和IEEE两会会士。他25岁成为加州大学伯克利分校计算机科学学院第一位博士。在IBM工作期间参与和主持了IMS、System R、SQL／DS、DB2等项目的开发。后任职于微软研究院，主要关注应用数据库技术来处理各学科的海量信息。</p>
</li>
</ul>
<h1>小结</h1>
<p>好了，总结一下今天的内容。异步I/O模型是我个人觉得所有程序员都必需要学习的一门技术或是编程方法，这其中的设计模式或是解决方法可以借鉴到分布式架构上来。而且我认为，学习这些模型非常重要，你千万要认真学习。</p>
<p>接下来是Lock-Free方面的内容，由于锁对于性能的影响实在是太大了，所以它越来越被开发人员所重视。如果想开发出一个高  性能的程序，你非常有必要学习 Lock-Free的编程方式。随后，我给出系统底层方面的其它一些重要知识，如64位编程、提高OpenSSL的执行性能、压缩、SSD硬盘性能测试等。最后介绍了几篇我认为对学习和巩固这些知识非常有帮助的论文，都很经典，推荐你务必看看。</p>
<p>下面是《程序员练级攻略》系列文章的目录。</p>
<ul>
<li><a href="https://time.geekbang.org/column/article/8136" target="_blank" rel="noopener noreferrer">开篇词</a></li>
<li>入门篇
<ul>
<li><a href="https://time.geekbang.org/column/article/8216" target="_blank" rel="noopener noreferrer">零基础启蒙</a></li>
<li><a href="https://time.geekbang.org/column/article/8217" target="_blank" rel="noopener noreferrer">正式入门</a></li>
</ul>
</li>
<li>修养篇
<ul>
<li><a href="https://time.geekbang.org/column/article/8700" target="_blank" rel="noopener noreferrer">程序员修养</a></li>
</ul>
</li>
<li>专业基础篇
<ul>
<li><a href="https://time.geekbang.org/column/article/8701" target="_blank" rel="noopener noreferrer">编程语言</a></li>
<li><a href="https://time.geekbang.org/column/article/8887" target="_blank" rel="noopener noreferrer">理论学科</a></li>
<li><a href="https://time.geekbang.org/column/article/8888" target="_blank" rel="noopener noreferrer">系统知识</a></li>
</ul>
</li>
<li>软件设计篇
<ul>
<li><a href="https://time.geekbang.org/column/article/9369" target="_blank" rel="noopener noreferrer">软件设计</a></li>
</ul>
</li>
<li>高手成长篇
<ul>
<li><a href="https://time.geekbang.org/column/article/9759" target="_blank" rel="noopener noreferrer">Linux系统、内存和网络（系统底层知识）</a></li>
<li><a href="https://time.geekbang.org/column/article/9851" target="_blank" rel="noopener noreferrer">异步I/O模型和Lock-Free编程（系统底层知识）</a></li>
<li><a href="https://time.geekbang.org/column/article/10216" target="_blank" rel="noopener noreferrer">Java底层知识</a></li>
<li><a href="https://time.geekbang.org/column/article/10301" target="_blank" rel="noopener noreferrer">数据库</a></li>
<li><a href="https://time.geekbang.org/column/article/10603" target="_blank" rel="noopener noreferrer">分布式架构入门（分布式架构）</a></li>
<li><a href="https://time.geekbang.org/column/article/10604" target="_blank" rel="noopener noreferrer">分布式架构经典图书和论文（分布式架构）</a></li>
<li><a href="https://time.geekbang.org/column/article/11232" target="_blank" rel="noopener noreferrer">分布式架构工程设计(分布式架构)</a></li>
<li><a href="https://time.geekbang.org/column/article/11116" target="_blank" rel="noopener noreferrer">微服务</a></li>
<li><a href="https://time.geekbang.org/column/article/11665" target="_blank" rel="noopener noreferrer">容器化和自动化运维</a></li>
<li><a href="https://time.geekbang.org/column/article/11669" target="_blank" rel="noopener noreferrer">机器学习和人工智能</a></li>
<li><a href="https://time.geekbang.org/column/article/12271" target="_blank" rel="noopener noreferrer">前端基础和底层原理（前端方向）</a></li>
<li><a href="https://time.geekbang.org/column/article/12389" target="_blank" rel="noopener noreferrer">前端性能优化和框架（前端方向）</a></li>
<li><a href="https://time.geekbang.org/column/article/12486" target="_blank" rel="noopener noreferrer">UI/UX设计（前端方向）</a></li>
<li><a href="https://time.geekbang.org/column/article/12561" target="_blank" rel="noopener noreferrer">技术资源集散地</a></li>
</ul>
</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/左耳听风/程序员练级攻略：Linux系统、内存和网络-77/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">77 | 程序员练级攻略：Linux系统、内存和网络</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/左耳听风/程序员练级攻略：Java底层知识-79/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">79 | 程序员练级攻略：Java底层知识</div></a></nav></div></div></div></div></main></div></div></div></div>
</body>
</html>